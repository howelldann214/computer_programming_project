<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>結帳</title>
    <link rel="stylesheet" href="checkout.css">
    <script src="transport_payment.js" defer></script>
    <!-- 登入檢查 -->
    <script src="../js/checkout.js" defer></script>
    <script src="../js/auth.js" defer></script> <!-- 引入 auth.js -->
</head>
<body>
    <header>
        <div class="top-bar">
            <div class="logo">
                <a href="../main/main.html"><img src="../material/icon-1.png" alt="logo"></a>
            </div>
            <div class="top-right">
                <!-- 用戶名稱將由 auth.js 動態顯示 -->
            </div>
        </div>
    </header>
    <main>
        <div class="checkout">
            <table class="order">
                <thead>
                    <tr>
                        <th><h2>訂單商品</h2></th>
                        <th>單價</th>
                        <th>數量</th>
                        <th>總價</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- 購物車商品將會動態填充在這裡 -->
                </tbody>
                <tfoot>
                    <tr class="total-row">
                        <td colspan="3" class="total-label">訂單金額:</td>
                        <td class="total-price">$0.00</td>
                    </tr>
                </tfoot>
            </table>
        </div>
        <div class="transport">
            <h2>運送方式</h2>
            <div class="transport-method">
                <button type="button" class="method-btn" data-value="home">宅配</button>
                <button type="button" class="method-btn" data-value="store">超商取貨</button>
                <input type="hidden" name="transport" id="transport-input">
            </div>
            <!-- 地址輸入框，預設隱藏 -->
            <div class="address-input" id="address-container" style="display: none;">
                <label for="address">地址:</label>
                <input type="text" id="address" name="address">
            </div>
            <!-- 超商取貨選擇，預設隱藏 -->
            <div class="store-input" id="store-container" style="display: none;">
                <label for="store-select">便利商店:</label>
                <select id="store-select">
                    <option value="7-11">7-11</option>
                    <option value="family">全家</option>
                    <option value="ok">OK</option>
                    <option value="hi-life">萊爾富</option>
                </select>
                <label for="branch">分店:</label>
                <input type="text" id="branch" name="branch">
            </div>
        </div>
        <div class="payment">
            <h2>付款方式</h2>
            <div class="payment-method">
                <button type="button" class="method-btn" data-value="credit-card">信用卡</button>
                <button type="button" class="method-btn" data-value="cash">貨到付款</button>
                <input type="hidden" name="payment" id="payment-input">
            </div>
        </div>
        <div class="pay">
            <button class="pay-btn">付款</button>
        </div>
    </main>
</body>
</html>
